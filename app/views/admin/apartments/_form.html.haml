= semantic_form_for [:admin, @apartment], remote: true do |f|
  = f.semantic_errors *f.object.errors.keys
  = f.inputs class: 'col-md-4' do
    = f.input :title
    = f.input :active
    = f.input :price
  = f.inputs class: 'col-md-12' do
    = f.input :short_description
    = f.input :description, input_html: { class: 'tinymce' }

  = render 'fields_for_photos', photos: @apartment.photos.where.not(id: nil), form: f

  = f.actions class: 'col-md-12' do
    = f.button t('.add_photos'), id: 'add-photos', class: 'btn btn-big btn-primary'
    = f.action :submit, as: :button,
      button_html: { class: 'btn btn-big btn-success pull-right' }

.hide
  = semantic_form_for [:admin, @apartment, @apartment.photos.build], html: { multipart: true }, remote: true do |f|
    = f.inputs class: 'col-md-4' do
      = f.file_field :image, multiple: true, name: 'photo[image]'
